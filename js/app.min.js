"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){!0===e?document.querySelector("html").classList.add("_webp"):document.querySelector("html").classList.add("_no-webp")}));let menuBody=document.querySelector(".menu__body"),iconMenu=document.querySelector(".icon-menu");iconMenu&&iconMenu.addEventListener("click",(function(){iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active"),document.body.classList.toggle("_lock")}));const filterLinks=document.querySelectorAll(".filter__link"),filterCards=document.querySelectorAll(".filter__card");function filterCardBegining(){for(const e of filterCards)e.classList.contains(filterLinks[0].dataset.filter)||e.classList.add("_hide")}filterCardBegining();for(let e=0;e<filterLinks.length;e++){const t=filterLinks[e];t.addEventListener("click",(function(){filterLinkClicked(t),filterLinksNoTouch(filterLinks),filterBody(t.dataset.filter,filterCards)}))}function filterLinkClicked(e){const t=document.querySelectorAll(".filter__link._opened");t&&(t[0].className=t[0].className.replace(" _opened",""),e.classList.add("_opened"))}function filterLinksNoTouch(e){for(let t=0;t<e.length;t++){const n=e[t];n.dataset.filter&&!n.classList.contains("_no-touch")&&n.classList.add("_no-touch");document.querySelector(".filter__link._opened").addEventListener("transitionend",(function(){n.classList.remove("_no-touch")}))}}function filterBody(e,t){for(let n=0;n<t.length;n++){const o=t[n],i=o.classList.contains(e);o.classList.add("_show"),o.addEventListener("transitionend",(function(){const e=o.querySelector(".card-filter__item");e.classList.remove("_anim-items"),e.classList.remove("_anim"),i?i&&(o.classList.remove("_hide"),o.classList.remove("_show")):(o.classList.add("_hide"),o.classList.remove("_show"))}))}}const scrollTops=document.querySelectorAll("._scrolltop");if(scrollTops.length>0)for(let e=0;e<scrollTops.length;e++){scrollTops[e].addEventListener("click",(function(e){window.scrollTo({top:0,behavior:"smooth"}),e.preventDefault()}))}function offset(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.onload=function(){const e=document.querySelectorAll("img[data-src]");if(e.length>0){const t=new IntersectionObserver((e=>{for(let o=0;o<e.length;o++){const i=e[o];if(!i.isIntersecting)return;n(i.target),t.unobserve(i.target)}}),{rootMargin:"0px 0px 50px 0px",threshold:0});function n(e){e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src"),e.previousElementSibling&&o(e))}function o(e){const t=e.previousElementSibling;if("SOURCE"==t.tagName){const n=e.getAttribute("src").split(".");"svg"!==n[1]&&(n[1]="webp");const o=n.join(".");t.setAttribute("srcset",o),t.removeAttribute("data-srcset")}}e.forEach((e=>{e.getBoundingClientRect().top+pageYOffset>pageYOffset?t.observe(e):n(e)}))}};const animItems=document.querySelectorAll("._anim-items");if(animItems.length>0){function e(){for(let e=0;e<animItems.length;e++){const t=animItems[e],n=t.offsetHeight,o=offset(t).top,i=4;let s=window.innerHeight-n/i;n>window.innerHeight&&(s=window.innerHeight-window.innerHeight/i),pageYOffset>o-s&&pageYOffset<o+n&&(t.classList.add("_anim"),t.addEventListener("transitionend",(function(){t.classList.remove("_anim-items")})))}}window.addEventListener("scroll",e),setTimeout((()=>{e()}),300)}